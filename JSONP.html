<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<title>jsonp</title>
	<link rel="stylesheet" href="">
	<script>
		window.onload = function(){
			var obtn = document.getElementById('btn');
			
			var oinp = document.getElementById('ipt')
			obtn.onclick = function () {
				var ohead = document.getElementsByTagName('head')[0];
				var osrcipt = document.createElement('script');
				osrcipt.src = 'https://api.douban.com/v2/book/search?callback=show&q='+oinp.value;
				ohead.appendChild(osrcipt)
			}
		}
		function show(data){
			var oul1 = document.getElementById('ul1');
			var obj;
			for(var i=0;i<data.books.length;i++){
				obj += "<li><img src="+data.books[i].image+"><p>"+data.books[i].author+"</p></li>"
			}
			oul1.innerHTML = obj
		}
	</script>
</head>
<body>
<input type="text" id="ipt">
	<button id="btn">click</button>
	<ul id="ul1">
		<li>
			<img src="" alt="">
			<p></p>
		</li>
	</ul>
</body>
</html>